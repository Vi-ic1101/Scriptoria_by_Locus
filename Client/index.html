<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DraftRoom | The Filmmaker's Studio</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Courier+Prime:wght@400;700&family=Inter:wght@300;400;500&display=swap"
        rel="stylesheet">
</head>

<body>

    <!-- Background Elements -->
    <div class="noise-overlay"></div>
    <div class="vignette"></div>

    <!-- PRELOADER / GENERATION OVERLAY -->
    <div id="loading-overlay" class="hidden">
        <div class="loading-content">
            <h2 id="loading-status">INITIALIZING STUDIO...</h2>
            <div class="loading-bar-container">
                <div id="loading-bar"></div>
            </div>
            <p id="loading-quote">"Everything begins with an idea."</p>
        </div>
    </div>

    <!-- MAIN APP CONTAINER -->
    <div id="app-container">

        <!-- VIEW 1: THE MARQUEE (Welcome) -->
        <section id="view-welcome" class="view active">
            <div class="spotlight"></div>
            <div class="marquee-content">
                <h1 class="title-main">DRAFTROOM</h1>
                <p class="subtitle">Where Algorithms Meet Artistry</p>
                <button class="btn-primary huge" onclick="navigateTo('view-input')">ENTER STUDIO</button>
            </div>
        </section>

        <!-- VIEW 2: THE WRITERS' ROOM (Input) -->
        <section id="view-input" class="view">
            <header class="app-header">
                <div class="logo-small" onclick="navigateTo('view-welcome')">DRAFTROOM</div>
                <div class="step-indicator">PHASE 1: CONCEPTUALIZATION</div>
            </header>

            <div class="workspace">
                <!-- Left Panel: Specs -->
                <aside class="specs-panel">
                    <h3>TECHNICAL SPECS</h3>

                    <div class="control-group">
                        <label>GENRE</label>
                        <select id="genre-select">
                            <option value="Drama">Drama</option>
                            <option value="Sci-Fi">Sci-Fi</option>
                            <option value="Noir">Noir</option>
                            <option value="Comedy">Comedy</option>
                            <option value="Horror">Horror</option>
                            <option value="Fantasy">Fantasy</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label>SCENE COUNT</label>
                        <select id="scene-count">
                            <option value="1">Short (1 Scene)</option>
                            <option value="3-5">Standard (3-5 Scenes)</option>
                            <option value="5-10">Extended (5-10 Scenes)</option>
                        </select>
                    </div>

                    <div class="control-group">
                        <label>LANGUAGE</label>
                        <select id="language-select">
                            <option value="English">English</option>
                            <option value="Spanish">Spanish</option>
                            <option value="French">French</option>
                            <option value="Japanese">Japanese</option>
                            <option value="Hindi">Hindi</option>
                        </select>
                    </div>
                </aside>

                <!-- Right Panel: Canvas -->
                <main class="canvas-panel">
                    <div class="input-wrapper">
                        <textarea id="story-prompt"
                            placeholder="Fade in: A lone detective stands in the rain..."></textarea>
                        <div class="action-bar">
                            <button id="generate-btn" class="btn-primary" onclick="handleGeneration()">
                                <span class="btn-text">ACTION</span>
                                <span class="loader hidden"></span>
                            </button>
                        </div>
                    </div>
                </main>
            </div>
        </section>

        <!-- VIEW 3: THE SCREENING (Output) -->
        <section id="view-output" class="view">
            <header class="app-header">
                <div class="logo-small" onclick="navigateTo('view-welcome')">DRAFTROOM</div>
                <div class="step-indicator">PHASE 2: PRODUCTION</div>
                <button class="btn-secondary" onclick="navigateTo('view-input')">NEW DRAFT</button>
            </header>

            <div class="studio-layout">
                <!-- Center: Screenplay -->
                <main class="script-viewer">
                    <div class="paper-sheet" id="screenplay-content">
                        <!-- Content injected here -->
                    </div>
                </main>

                <!-- Right: Asset Dock -->
                <aside class="asset-dock">
                    <div class="tabs">
                        <button class="tab-btn active" onclick="switchTab('screenplay')">Synopsis</button>
                        <button class="tab-btn" onclick="switchTab('characters')">CAST</button>
                        <button class="tab-btn" onclick="switchTab('sound')">SOUND</button>
                    </div>

                    <div id="dock-content" class="dock-content">
                        <!-- Dynamic Content -->
                    </div>

                    <div class="controls-deck">
                        <h4>PRODUCTION TOOLS</h4>
                        <button class="btn-tool" onclick="generateMusic()">
                            üéµ COMPOSER (Generate Score)
                        </button>
                        <button class="btn-tool" onclick="narrateScript()">
                            üéôÔ∏è VO (Narrate)
                        </button>
                        <div class="download-group">
                            <button class="btn-tool small" onclick="download('pdf')">üìÑ PDF</button>
                            <button class="btn-tool small" onclick="download('docx')">üìù DOCX</button>
                            <button class="btn-tool small" onclick="generateShareLink()">üîó LINK</button>
                        </div>
                        <div id="media-player-container"></div>
                        <div id="media-player-container"></div>
                    </div>
                </aside>
            </div>
        </section>

    </div>

    <script src="script.js"></script>
</body>

</html>